
---

## Package Name

`@yambwa/pretty-logger`

---

## Short Tagline

A lightweight, extensible logger with log levels, pretty and JSON output, context support, and pluggable transports for Node.js and TypeScript projects.

---

## Long Description

`@yambwa/pretty-logger` is a simple but powerful logging library designed for modern JavaScript and TypeScript applications. It helps you keep your logs clean, structured, and easy to work with in both **development** and **production**.

The library gives you:

* Multiple **log levels** (`trace`, `debug`, `info`, `warn`, `error`, `fatal`)
* Two output modes: **human-friendly â€œprettyâ€ logs** for development and **JSON logs** for production and log collectors
* A **transport system** so you can send logs to the console, files, or any custom destination
* **Context support** so each logger instance can identify which part of the app the log is coming from (e.g. `AuthService`, `UserController`)
* Simple, typed API that works great with **TypeScript**

It is built to be small, dependency-light, and easy to drop into any Node.js backend, CLI tool, or script.

---

## Key Features

### ðŸ”¹ Full Log Levels

Support for common log levels so you can control how noisy your logs are:

* `trace` â€“ very detailed, low-level information
* `debug` â€“ debug information for development
* `info` â€“ general application events
* `warn` â€“ non-breaking issues and warnings
* `error` â€“ errors that need attention
* `fatal` â€“ critical errors

You can configure a **minimum log level**, so for example in production you might log from `warn` and above only.

---

### ðŸ”¹ Pretty Mode (Development)

In `pretty` mode, logs are formatted with:

* ISO timestamp
* Uppercased log level
* Optional context tag
* Optional metadata (extra details)

And are color-coded using ANSI colors to make it easy to spot warnings and errors in the terminal.

Example (conceptual):

```bash
2025-11-26 INFO [Server] Listening on port 3000 {"env":"development"}
```

---

### ðŸ”¹ JSON Mode (Production)

In `json` mode, each log line is a single JSON object.
This makes it easy to integrate with log processors, log aggregation tools, or cloud logging.

Example:

```json
{
  "level": "error",
  "message": "Database connection failed",
  "timestamp": "2025-11-26T20:15:32.123Z",
  "context": "Database",
  "meta": {
    "retries": 3
  }
}
```

By default, the logger can choose the mode based on `NODE_ENV`:

* `NODE_ENV=development` â†’ `pretty`
* `NODE_ENV=production` â†’ `json`

---

### ðŸ”¹ Context Support

You can create child loggers with a fixed `context` to identify where logs come from.

For example:

```ts
const appLogger = createLogger();
const authLogger = appLogger.withContext("AuthService");
const dbLogger = appLogger.withContext("Database");
```

This makes tracing issues in larger apps much easier.

---

### ðŸ”¹ Pluggable Transports

`@yambwa/pretty-logger` uses a simple transport system:

* A **transport** is just a function that receives:

  * The raw `LogEntry`
  * The formatted string

You can:

* Use the built-in **console transport** (default).
* Add the provided **file transport** to save logs to a file.
* Write your own transport to:

  * Send logs to an HTTP endpoint
  * Push logs into a database
  * Forward logs to a message queue, etc.

Example:

```ts
const logger = createLogger({
  transports: [
    // console
    (entry, formatted) => console.log(formatted),
    // custom
    (entry, formatted) => {
      // send to external log service here
    },
  ],
});
```

---

### ðŸ”¹ Runtime Configuration

You can control:

* `level` â€“ minimum level to log
* `mode` â€“ `"pretty"` or `"json"`
* `context` â€“ tag for where the logger is used
* `transports` â€“ array of output handlers

You can also change the log level at runtime:

```ts
logger.setLevel("warn");
```

---

## Example Usage

```ts
import { createLogger, createFileTransport } from "@yambwa/pretty-logger";

const logger = createLogger({
  level: "debug",
  mode: "pretty", // or "json"
  transports: [
    // default console logging
    (entry, formatted) => console.log(formatted),
    // also log to a file
    createFileTransport("logs/app.log"),
  ],
});

logger.info("Application started", { port: 3000 });

const authLogger = logger.withContext("AuthService");
authLogger.warn("Invalid login attempt", { userId: 123 });

logger.error("Unexpected error", { code: "E5001" });
```
